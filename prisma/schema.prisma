// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Utilisateur {
  idRole   Int?
  email    String  @unique
  password String
  id       Int     @default(autoincrement()) @id
  name     String?
  role     Role?  @relation(fields: [idRole], references: [id])
}

model Cours {
  idAuteur        Int?
  contenuMd       String?
  resume          String?
  id              Int     @default(autoincrement()) @id
  estArchive      Boolean @default(false)
  titre           String
  dateRedaction   Int?
  dateParution    Int?
  nbConssultation Int?
  author          Utilisateur?   @relation(fields: [idAuteur], references: [id])
}

model Role {
  role      String?
  id        Int     @default(autoincrement()) @id
  title     String
}

model Categorie {
  idCategorieMere   Int?
  id                Int     @default(autoincrement()) @id
  libelle           String
  categorieMere     Categorie?   @relation(fields: [idCategorieMere], references: [id])
}

model notesCours {
  idUtilisateur     Int?
  idCour            Int?
  id                Int     @default(autoincrement()) @id
  annotation        String?
  date              Int?
  note              Int?
  utilisateur       Utilisateur?   @relation(fields: [idUtilisateur], references: [id])
  cour              Cours?   @relation(fields: [idCour], references: [id])
}

model coursCategorie {
  idCategorie       Int?
  idCour            Int?
  id                Int     @default(autoincrement()) @id
  categorie         Categorie?   @relation(fields: [idCategorie], references: [id])
  cour              Cours?   @relation(fields: [idCour], references: [id])
}